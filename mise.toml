[tools]
hugo = "0.152.2"
"ubi:dprint/dprint" = "0.50.1"

[tasks.build]
description = "Build the Hugo site"
run = "hugo build"

[tasks.serve]
description = "Serve the Hugo site locally with drafts"
run = "hugo server -D"

[tasks.new]
description = "Create a new post (usage: mise run new <post-name>)"
usage = '''
arg "<name>" help="Name of the new post with hyphens instead of spaces"
'''
run = "hugo new content posts/${usage_name}.md"

[tasks.clean]
description = "Clean the public directory"
run = "rm -rf public"

[tasks.deploy]
description = "Build for production"
run = "hugo --minify"

[tasks.format]
description = "Format all files with dprint"
run = "dprint fmt"

[tasks."format:check"]
description = "Check formatting without making changes"
run = "dprint check"
